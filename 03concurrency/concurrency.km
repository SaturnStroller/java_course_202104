{"root":{"data":{"id":"d6811c8aac3a","created":1622364832,"text":"多线程"},"children":[{"data":{"id":"cbqgqwc4xcw0","created":1622365993438,"text":"线程","layout_mind_offset":{"x":-75,"y":16}},"children":[{"data":{"id":"cbqgrqybg880","created":1622366060083,"text":"线程与进程的区别"},"children":[]},{"data":{"id":"cbqgs7ob5dk0","created":1622366096483,"text":"用户线程和守护线程的区别"},"children":[]},{"data":{"id":"cbqgtjzutuw0","created":1622366201667,"text":"线程的创建过程","expandState":"expand"},"children":[{"data":{"id":"cbqgvb8675c0","created":1622366339307,"text":" ","image":"https://kityminder-img.gz.bcebos.com/250f5f2919847bf669ec31884532e203b0bbba0f","imageTitle":"java线程的创建过程","imageSize":{"width":200,"height":90}},"children":[]}]},{"data":{"id":"cbqgv1fhemw0","created":1622366317981,"text":"java创建线程的方式"},"children":[]},{"data":{"id":"cbqgzivrkvk0","created":1622366669428,"text":"线程的状态流转","expandState":"expand"},"children":[{"data":{"id":"cbqh7syjzr40","created":1622367318278,"text":" ","image":"https://kityminder-img.gz.bcebos.com/68bdc08a4d57b79a1b51518d30fe62b49ce0e088","imageTitle":"","imageSize":{"width":200,"height":134}},"children":[]}]},{"data":{"id":"cbqh183yy080","created":1622366802708,"text":"sleep和wait的区别"},"children":[]},{"data":{"id":"cbqh342bqfc0","created":1622366950629,"text":"线程的状态改变操作","expandState":"expand"},"children":[{"data":{"id":"cbqh3c6kavs0","created":1622366968300,"text":"sleep"},"children":[{"data":{"id":"cbqh4m01lh40","created":1622367068038,"text":"当前线程进入 TIMED_WAITING 状态，但不释放对象锁,millis 后线程自动苏醒进入就绪状态"},"children":[]}]},{"data":{"id":"cbqh3fp1q5s0","created":1622366975948,"text":"yield"},"children":[{"data":{"id":"cbqh5hq7t740","created":1622367137101,"text":"当前线程放弃获取的 CPU 时间片，但不释放锁资源，由运行状态变为就绪状态，让 OS 再次选择线程。作用：让相同优先级的线程轮流执行"},"children":[]}]},{"data":{"id":"cbqh3ipylhs0","created":1622366982534,"text":"join"},"children":[{"data":{"id":"cbqh60zn5fc0","created":1622367179030,"text":"当前线程里调用其它线程 t 的 join 方法，当前线程进入WAITING/TIMED_WAITING 状态，当前线程不会释放已经持有的对象锁，因为内部调用了 t.wait，所以会释放t这个对象上的同步锁。线程 t 执行完毕或者 millis 时间到，当前线程进入就绪状态。其中，wait 操作对应的 notify 是由 jvm 底层的线程执行结束前触发的"},"children":[]}]},{"data":{"id":"cbqh3m10xew0","created":1622366989733,"text":"wait"},"children":[{"data":{"id":"cbqh6fbhy340","created":1622367210221,"text":"当前线程释放 obj 对象锁，进入等待队列。依靠 notify()/notifyAll()唤醒或者 wait(long timeout) timeout 时间到自动唤醒"},"children":[]}]},{"data":{"id":"cbqh3o1dp5c0","created":1622366994109,"text":"notify/notifyAll"},"children":[{"data":{"id":"cbqh6q426yw0","created":1622367233716,"text":"唤醒在此对象监视器上等待的单个线程/所有线程"},"children":[]}]}]},{"data":{"id":"cbqix5hzvuo0","created":1622372125789,"text":"ThreadLocal"},"children":[{"data":{"id":"cbqixe5bqhs0","created":1622372144614,"text":"线程本地变量，set()赋值"},"children":[]}]}]},{"data":{"id":"cbqhll0pxk80","created":1622368398093,"text":"线程安全","layout_mind_offset":{"x":-66,"y":87}},"children":[{"data":{"id":"cbqhlryb72g0","created":1622368413184,"text":"原子性"},"children":[{"data":{"id":"cbqhmgl96bk0","created":1622368466816,"text":"不可被中断，不可被拆分，要么执行，要么不执行"},"children":[]}]},{"data":{"id":"cbqhlza0z540","created":1622368429130,"text":"可见性"},"children":[{"data":{"id":"cbqhmwfrh800","created":1622368501311,"text":"volatile"},"children":[{"data":{"id":"cbqhn82wwrk0","created":1622368526655,"text":"保证修改的值会立刻被更新到主存，每次读取都强制从主存刷数据"},"children":[]}]}]},{"data":{"id":"cbqhm1mxdcw0","created":1622368434264,"text":"有序性"},"children":[{"data":{"id":"cbqho0txs2o0","created":1622368589239,"text":"Java 允许编译器和处理器对指令进行重排序，但是重排序过程不会影响到单线程程序的执行，却会影响到多线程并发执行的正确性","expandState":"expand"},"children":[{"data":{"id":"cbqhon1r2so0","created":1622368637601,"text":"happens-before 原则（先行发生原则）：\n1. 程序次序规则：一个线程内，按照代码先后顺序\n2. 锁定规则：一个 unLock 操作先行发生于后面对同一个锁的 lock 操作\n3. Volatile 变量规则：对一个变量的写操作先行发生于后面对这个变量的读操作\n4. 传递规则：如果操作 A 先行发生于操作 B，而操作B 又先行发生于操作 C，则可以得出 A 先于 C\n5. 线程启动规则：Thread 对象的 start() 方法先行发生于此线程的每个一个动作\n6. 线程中断规则：对线程 interrupt() 方法的调用先行发生于被中断线程的代码检测到中断事件的发生\n7. 线程终结规则：线程中所有的操作都先行发生于线程的终止检测，我们可以通过 Thread.join() 方法结束、Thread.isAlive() 的返回值手段检测到线程已经终止执行\n8. 对象终结规则：一个对象的初始化完成先行发生于他的 finalize() 方法的开始","layout_left_offset":{"x":-828,"y":-12}},"children":[]}]}]},{"data":{"id":"cbqhvft0jd40","created":1622369170384,"text":"synchronized"},"children":[]}]},{"data":{"id":"cbqhrw5ebf40","created":1622368892505,"text":"java并发包","layout_mind_offset":{"x":48,"y":-2}},"children":[{"data":{"id":"cbqhsn4nnkw0","created":1622368951233,"text":"Locks"},"children":[{"data":{"id":"cbqhyg4vg0w0","created":1622369406194,"text":"ReentrantLock"},"children":[]},{"data":{"id":"cbqi0vpu4b40","created":1622369596842,"text":"ReadWriteLock"},"children":[{"data":{"id":"cbqi12a55gg0","created":1622369611130,"text":"ReentrantReadWriteLock"},"children":[{"data":{"id":"cbqi26c8wpk0","created":1622369698329,"text":"readLock()"},"children":[]},{"data":{"id":"cbqi2a9tnz40","created":1622369706889,"text":"writeLock()"},"children":[]}]}]},{"data":{"id":"cbqi1s4zzpc0","created":1622369667415,"text":"Condition"},"children":[{"data":{"id":"cbqi2rbyw080","created":1622369744024,"text":"await()"},"children":[]},{"data":{"id":"cbqi2w6a0140","created":1622369754564,"text":"signal()/signalAll()"},"children":[]}]},{"data":{"id":"cbqi2goh1bc0","created":1622369720836,"text":"LockSupport"},"children":[{"data":{"id":"cbqi3465if40","created":1622369771971,"text":"park()"},"children":[]},{"data":{"id":"cbqi372wha00","created":1622369778305,"text":"unpark(Thread)"},"children":[]}]}]},{"data":{"id":"cbqhsxg9xvs0","created":1622368973704,"text":"Atomic"},"children":[{"data":{"id":"cbqi4yxtsls0","created":1622369917312,"text":"AtomicBoolean"},"children":[]},{"data":{"id":"cbqi51ywops0","created":1622369923907,"text":"AtomicInteger"},"children":[]},{"data":{"id":"cbqi55hohuw0","created":1622369931573,"text":"AtomicIntegerArray"},"children":[]},{"data":{"id":"cbqi5bymqyg0","created":1622369945659,"text":"AtomicIntegerFiledUpdater"},"children":[]},{"data":{"id":"cbqi5ralty00","created":1622369979034,"text":"AtomicLong"},"children":[]},{"data":{"id":"cbqi7qqjry00","created":1622370134550,"text":"AtomicReference"},"children":[]},{"data":{"id":"cbqi7l4b8hk0","created":1622370122321,"text":"AtomicMarkableReference"},"children":[]},{"data":{"id":"cbqi7ue14g00","created":1622370142500,"text":"AtomicStampledReference"},"children":[]},{"data":{"id":"cbqi9g9u3bc0","created":1622370268500,"text":"LongAdder"},"children":[{"data":{"id":"cbqi9prety80","created":1622370289154,"text":"将单个 value 拆分成跟线程一样多的数组 Cell[]；每个线程写自己的 Cell[i]++，最后对数组求和"},"children":[]}]},{"data":{"id":"cbqi67p1bq80","created":1622370014735,"text":"无锁技术"},"children":[{"data":{"id":"cbqi6fo6th40","created":1622370032098,"text":"volatile保证读写操作的可见性"},"children":[]},{"data":{"id":"cbqi6q4e9sw0","created":1622370054846,"text":"CAS指令，作为乐观锁实现，通过自旋重试保证写入"},"children":[]}]}]},{"data":{"id":"cbqht4s84ig0","created":1622368989664,"text":"Executor"},"children":[{"data":{"id":"cbqjdc14yzk0","created":1622373393833,"text":"Callable"},"children":[{"data":{"id":"cbqjdgbih000","created":1622373403168,"text":"call()有返回值"},"children":[]}]},{"data":{"id":"cbqizfl2qlc0","created":1622372304471,"text":"Future"},"children":[]},{"data":{"id":"cbqiznmxqso0","created":1622372321998,"text":"Executor"},"children":[{"data":{"id":"cbqj08p750w0","created":1622372367847,"text":"ExecutorService"},"children":[{"data":{"id":"cbqj0st5wrs0","created":1622372411622,"text":"execute()","layout_left_offset":{"x":3,"y":-4}},"children":[{"data":{"id":"cbqj2osav140","created":1622372559591,"text":"无返回值"},"children":[]}]},{"data":{"id":"cbqj1cn8ge00","created":1622372454799,"text":"submit()"},"children":[{"data":{"id":"cbqj1pzcd4w0","created":1622372483830,"text":"可以获取执行结果"},"children":[]}]},{"data":{"id":"cbqj1y5cpx40","created":1622372501607,"text":"shutdown()"},"children":[{"data":{"id":"cbqj22jo3zk0","created":1622372511180,"text":"停止接收新任务，原任务继续执行"},"children":[]}]},{"data":{"id":"cbqj2coc0l40","created":1622372533230,"text":"shutdownNow()"},"children":[{"data":{"id":"cbqj2jl84lk0","created":1622372548280,"text":"原任务停止执行"},"children":[]}]}]}]},{"data":{"id":"cbqj4mak0l40","created":1622372710893,"text":"ThreadPoolExecutor"},"children":[{"data":{"id":"cbqj4v3ixiw0","created":1622372730059,"text":"类型"},"children":[{"data":{"id":"cbqjawwjtk00","created":1622373204176,"text":"newSingleThreadExecutor"},"children":[{"data":{"id":"cbqjbe0or740","created":1622373241431,"text":"单线程线程池"},"children":[]}]},{"data":{"id":"cbqjaz0twyo0","created":1622373208788,"text":"newFixedThreadPool"},"children":[{"data":{"id":"cbqjblh0c3c0","created":1622373257656,"text":"固定大小的线程池"},"children":[]}]},{"data":{"id":"cbqjb2npajs0","created":1622373216702,"text":"newCachedThreadPool"},"children":[{"data":{"id":"cbqjbtjqneo0","created":1622373275235,"text":"可缓存的线程池"},"children":[]}]},{"data":{"id":"cbqjb6ipbe00","created":1622373225106,"text":"newScheduledThreadPool"},"children":[{"data":{"id":"cbqjc6t1r340","created":1622373304096,"text":"无大小限制，支持定时以及周期性执行任务"},"children":[]}]}]},{"data":{"id":"cbqj4zv9c3c0","created":1622372740443,"text":"corePoolSize"},"children":[{"data":{"id":"cbqj5z5wfl40","created":1622372817274,"text":"核心线程数"},"children":[]}]},{"data":{"id":"cbqj57dx3rc0","created":1622372756809,"text":"maximumPoolSize"},"children":[{"data":{"id":"cbqj659lzdc0","created":1622372830559,"text":"最大线程数"},"children":[]}]},{"data":{"id":"cbqjae6ovsw0","created":1622373163430,"text":"ThreadFactory"},"children":[]},{"data":{"id":"cbqj5cup1co0","created":1622372768707,"text":"BlockingQueue"},"children":[{"data":{"id":"cbqj6scpgsg0","created":1622372880812,"text":"ArrayBlockingQueue"},"children":[{"data":{"id":"cbqj7r2vp2o0","created":1622372956405,"text":"指定大小，FIFO"},"children":[]}]},{"data":{"id":"cbqj70acgf40","created":1622372898084,"text":"LinkedBlockingQueue"},"children":[{"data":{"id":"cbqj7xdxzlk0","created":1622372970135,"text":"大小不固定，"},"children":[]}]},{"data":{"id":"cbqj76vqmi80","created":1622372912438,"text":"PriorityBlockingQueue"},"children":[{"data":{"id":"cbqj7badx740","created":1622372922031,"text":"可指定Comparator"},"children":[]}]},{"data":{"id":"cbqj7cxni2o0","created":1622372925615,"text":"SynchronizedQueue"},"children":[{"data":{"id":"cbqj8b4iabs0","created":1622373000040,"text":"对其操作必须是写和读交替"},"children":[]}]}]},{"data":{"id":"cbqj5jr7tuw0","created":1622372783734,"text":"RejectedExecutionHandler"},"children":[{"data":{"id":"cbqj8r4go400","created":1622373034865,"text":"ThreadPoolExecutor.AbortPolicy"},"children":[{"data":{"id":"cbqj9bx37jc0","created":1622373080132,"text":"丢弃并抛出RejectedExecutionException"},"children":[]}]},{"data":{"id":"cbqj8u81dcw0","created":1622373041612,"text":"ThreadPoolExecutor.DiscardPolicy"},"children":[{"data":{"id":"cbqj9nmcffk0","created":1622373105604,"text":"丢弃，不抛异常"},"children":[]}]},{"data":{"id":"cbqj90g2vwg0","created":1622373055159,"text":"ThreadPoolExecutor.DiscardOldestPolicy"},"children":[{"data":{"id":"cbqj9s6lzow0","created":1622373115536,"text":"丢弃最前面任务"},"children":[]}]},{"data":{"id":"cbqj955bzko0","created":1622373065393,"text":"ThreadPoolExecutor.CallerRunsPolicy"},"children":[{"data":{"id":"cbqj9w21fdc0","created":1622373123967,"text":"交由调用线程处理任务"},"children":[]}]}]}]}]},{"data":{"id":"cbqhta4sme00","created":1622369001308,"text":"Tools"},"children":[{"data":{"id":"cbqidjzauq80","created":1622370590027,"text":"AQS：队列同步器","expandState":"expand"},"children":[{"data":{"id":"cbqidziyth40","created":1622370623867,"text":"核心基础组件，抽象了竞争的资源和线程队列","image":"https://kityminder-img.gz.bcebos.com/34e86258452e00fc9bac0c7495d08f6540e9cf67","imageTitle":"","imageSize":{"width":200,"height":84}},"children":[]}]},{"data":{"id":"cbqibly4aw00","created":1622370437580,"text":"Semaphore"},"children":[{"data":{"id":"cbqif696x5k0","created":1622370716878,"text":"控制同一时间并发线程数"},"children":[]},{"data":{"id":"cbqig8hn73s0","created":1622370800107,"text":"acquire()"},"children":[]},{"data":{"id":"cbqigk767bk0","created":1622370825595,"text":"release()"},"children":[]}]},{"data":{"id":"cbqiby5tfmw0","created":1622370464167,"text":"CountDownLatch"},"children":[{"data":{"id":"cbqigvwo09k0","created":1622370851081,"text":"阻塞主线程，N个子线程满足条件时主线程继续"},"children":[]},{"data":{"id":"cbqihaowd9c0","created":1622370883264,"text":"await()"},"children":[]},{"data":{"id":"cbqihmypny00","created":1622370909978,"text":"countDown()"},"children":[]}]},{"data":{"id":"cbqic3hqabk0","created":1622370475772,"text":"CyclicBarrier"},"children":[{"data":{"id":"cbqihxzrio00","created":1622370933986,"text":"任务执行到一个栅栏，等待其他任务对齐，再一起执行。不基于AQS"},"children":[]},{"data":{"id":"cbqiijf760g0","created":1622370980632,"text":"await()"},"children":[]}]},{"data":{"id":"cbqik20gkiw0","created":1622371099464,"text":"CountDownLatch和CyclicBarrier的区别"},"children":[{"data":{"id":"cbqikbps7c00","created":1622371120586,"text":"分支主题","image":"https://kityminder-img.gz.bcebos.com/721a879997734931ade238f830bdf4f3763db503","imageTitle":"","imageSize":{"width":200,"height":80}},"children":[]}]}]},{"data":{"id":"cbqhtd5s12w0","created":1622369007898,"text":"Collections"},"children":[{"data":{"id":"cbqisob5pqg0","created":1622371774913,"text":"CopyOnWriteArrayList"},"children":[{"data":{"id":"cbqit1qj55s0","created":1622371804141,"text":"写加锁，无锁并发读"},"children":[]},{"data":{"id":"cbqitqs6p8g0","created":1622371858661,"text":"写在copy副本上，使用volatile保证可见性"},"children":[]}]},{"data":{"id":"cbqiv0ur6140","created":1622371958948,"text":"ConcurrentMap"},"children":[{"data":{"id":"cbqiv6mtaqw0","created":1622371971528,"text":"ConcurrentHashMap"},"children":[]},{"data":{"id":"cbqivbyg3q00","created":1622371983117,"text":"ConcurrentNavigableMap"},"children":[{"data":{"id":"cbqivjbfbgw0","created":1622371999138,"text":"ConcurrentSkipListMap"},"children":[]}]}]}]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}